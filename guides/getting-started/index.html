<!DOCTYPE html>
<html>
	<head>
		
			<title>Getting Started</title>
		
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<link rel="icon" type="image/png" href="../../_static/icon.png"/>
		<link rel="stylesheet" href="../../_static/site.css" type="text/css" media="screen"/>
		
		<script src="../../_components/jquery/jquery.min.js"></script>
		<script src="../../_components/jquery-syntax/jquery.syntax.min.js"></script>
		<script src="../../_components/mermaid/mermaid.min.js"></script>
		
		<script src="../../_static/links.js"></script>
		
		<script type="text/javascript">
		//<![CDATA[
			jQuery(function($) {
				$.syntax();
			});
			
			let isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
			let config = {theme: 'light'};
			if (isDarkMode) config.theme = 'dark';
			else config.theme = 'forest';
			mermaid.initialize(config);
		//]]>
		</script>
	</head>

	<body>
		<header> › <a class="link" href="../../index.html">Project</a> › <a class="link" href="../index.html">Guides</a></header>
		
		<main>
			
	<h1>Getting Started</h1>
	
	<p>This guide explains how to use <code>fingerprint</code> gem.</p>
<section id="installation"><h2>Installation</h2>
<p>Add the gem to your project:</p>
<pre><code class="language-bash">$ bundle add fingerprint
</code></pre>
<p>Install it globally:</p>
<pre><code class="language-bash">$ gem install fingerprint
</code></pre>
</section><section id="core-concepts"><h2>Core Concepts</h2>
<p><code>fingerprint</code> has two main high level commands:</p>
<ul>
<li>A <code>fingerprint analyze</code> command which generates an index of files (typically in the current working directory) and their associated metadata, including one or more checksums.</li>
<li>A <code>fingerprint verify</code> command which checks a previously generated index against the file system and reports any changes.</li>
</ul>
<p>These commands are designed to provide the most straight forward interface. However, there are several lower level commands:</p>
<ul>
<li>A <code>fingerprint scan</code> command which generates an index of one or more paths and outputs the index to <code>stdout</code>.</li>
<li>A <code>fingerprint compare</code> command which compares two indexes and reports any differences.</li>
<li>A <code>fingerprint duplicates</code> command which detects duplicates across one or more indexes.</li>
</ul>
</section><section id="analyze-and-verify"><h3>Analyze and Verify</h3>
<p>This usage is centered around analysing a given directory using <code>fingerprint analyze</code> and then, at a later date, checking that the directory is not missing any files and that all files are the same as they were originally, using <code>fingerprint verify</code>.</p>
<pre><code class="language-bash">$ fingerprint analyze
$ fingerprint verify
S 0 error(s) detected.
	error.count 0
</code></pre>
<p>If we modify a file (<code>file-1.txt</code> in this example), it will be reported:</p>
<pre><code class="language-bash">$ fingerprint verify
W file-1.txt
	changes.file.size.new 8
	changes.file.size.old 4
	changes.key.SHA2.256.new 1f2ec52b774368781bed1d1fb140a92e0eb6348090619c9291f9a5a3c8e8d151
	changes.key.SHA2.256.old b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c
	error.code keys_different
	error.message Key SHA2.256 does not match
S 1 error(s) detected.
	error.count 1
</code></pre>
<p>This command does not report files which have been added.</p>
</section><section id="scan"><h3>Scan</h3>
<p>It is possible to generate a fingerprint using the scan command, which takes a list of paths and writes out the transcript.</p>
<pre><code class="language-bash">$ fingerprint scan spec 
C /home/samuel/Documents/Programming/ioquatix/fingerprint/spec
	fingerprint.version 2.0.0
	options.checksums MD5, SHA2.256
	options.extended false
	summary.time.start 2016-06-25 11:46:12 +1200
D 
D fingerprint
F fingerprint/check_paths_spec.rb
	file.size 1487
	key.MD5 ef77034977daa683bbaaed47c553f6f5
	key.SHA2.256 970ec4663ffc257ec1d4f49f54711c38434108d580afc0c92ea7bf864e08a1e0
S 1 files processed.
	summary.directories 2
	summary.excluded 0
	summary.files 1
	summary.size 1487
	summary.time.end 2016-06-25 11:46:12 +1200
</code></pre>
</section><section id="duplicates"><h3>Duplicates</h3>
<p>Fingerprint can efficiently find duplicates in one or more fingerprints.</p>
<pre><code class="language-bash">$ fingerprint duplicates index.fingerprint
F .git/refs/heads/master
	file.size 41
	fingerprint index.fingerprint
	key.MD5 aaadaeee72126dedcd4044d687a74068
	key.SHA2.256 6750f057b38c2ea93e3725545333b8167301b6d8daa0626b0a2a613a6a4f4f04
	original.fingerprint index.fingerprint
	original.path .git/refs/remotes/origin/master
</code></pre>
</section><section id="supported-digests"><h3>Supported Digests</h3>
<p>Fingerprint can use one or more digest algorithms:</p>
<ul>
<li><code>MD5</code></li>
<li><code>SHA1</code></li>
<li><code>SHA2.256</code> (default)</li>
<li><code>SHA2.384</code></li>
<li><code>SHA2.512</code></li>
</ul>
<p>You specify these on the command line, e.g. <code>fingerprint scan -s MD5,SHA2.256 ...</code>.</p>
<p>The use of <code>MD5</code> and <code>SHA1</code> are no longer recommended due to the risk of hash collisions.</p>
</section>
				
			<footer>Documentation generated by <a href="https://github.com/socketry/utopia-project">Utopia::Project</a>.</footer>
		</main>
	</body>
</html>
